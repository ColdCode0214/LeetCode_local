class Solution {
public:
    int checkRecord(int n) {
        int a1=1, a2=0, a3=0, a4=1, a5=1, a6=0;
        int b1=0, b2=0, b3=0, b4=0, b5=0, b6=0;
        if(n==1)
            return 3;
        
        for(int i=2;i<=n;i++)
        {
            b1=(((a1+a2)%1000000007+(a3+a4)%1000000007)%1000000007+(a5+a6)%1000000007)%1000000007;
            b2=a1%1000000007;
            b3=a2%1000000007;
            b4=((a4+a5)%1000000007+a6)%1000000007;
            b5=a4%1000000007;
            b6=a5%1000000007;
            a1=b1%1000000007, a2=b2%1000000007, a3=b3%1000000007, a4=b4%1000000007, a5=b5%1000000007, a6=b6%1000000007;
        }
        return (((a1+a2)%1000000007+(a3+a4)%1000000007)%1000000007+(a5+a6)%1000000007)%1000000007;
    }
};
